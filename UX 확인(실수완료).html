

<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Document</title>
<script src="jquery-1.11.0.min.js"></script>
<script>
$(function(){

    //버튼 누르면 계산 시작
    $(".cal_btn").click(function(){
        calculate();            
       
    })
});



/// 공용함수로 xxx = xxx.split(".").join 만들기..?


    function calculate(){
        try{
                var javaObj = $("[name='java']");
                var SQLObj = $("[name='SQL']");
                var java     = javaObj.val();
                var SQL      = SQLObj.val();

                        var java_noValue = java.split(" ").join("");
                        var SQL_noValue = SQL.split(" ").join("");

                        if( java_noValue=="" ){       // 둘 중 하나가 없으면 하나라도 넣어라

                        alert("java의 값이 비어있습니다. 입력해주세요." )
                        return false;

                        }
                        else if (SQL_noValue==""){      // 둘 중 하나가 없으면 하나라도 넣어라

                        alert("SQL의 값이 비어있습니다. 입력해주세요." )
                        return false;
                        }                



            java   = parseFloat(java, 10);
            SQL     = parseFloat(SQL, 10);
                        

                    if (( new RegExp(/^([0-9]{1,3})$/).test(java) == false ) 
                    && (new RegExp(/^([0-9]{1,3}[.][0-9]{1,2})$/ ).test(java)  == false) )  {

                        alert("java에는 숫자만 입력해야 합니다...");
                        
                        javaObj.val("");
                        javaObj.focus();

                        return ;
                    } 
                    if (( new RegExp(/^([0-9]{1,3})$/).test(SQL) == false ) 
                    && (new RegExp(/^([0-9]{1,3}[.][0-9]{1,2})$/ ).test(SQL)  == false) )  {

                        alert("SQL 에는 숫자만 입력해야 합니다...");

                        SQLObj.val("");
                        SQLObj.focus();

                        return ;
                        }

                

                
                // 1. 실수 계산도 가능하게   -->  float 로 계산하면 정수와 실수 모두 가능. 그러니 parseFloat 를 하는 게 중요하다. 
                                            // 또한 정규표현식도 잊지 ㅁ라것.
                // 2. 실시간 유효성 체크 (keyup 이벤트를 통해서 숫자만 가능하게 입력하는 것.)    == JQuery 08 에 있는 keyup 이벤트 사용하면 될듯
                



                var tot =  java + SQL ;
                var avg = tot/2;

                $("[name='tot']").val( tot );
                $("[name='avg']").val( avg );

            } catch(e){
                alert("함수 calculate 호출 중 예외 발생!" + e.message)
                return false;
            }
    }       // 진짜 숫자로 만들어주기 위해 parseInt 로 끌어안아야함 . 정수 데이터만 입력하는 걸로. 더해서 총점. 더한 것을 나눠서 평균에 집어넣기

</script>
</head>


<body>

<table  align=center  cellpadding=7>
    <caption>점수를 입력하세요</caption>
		<tr >
		
			<td>
                자바 :
                <input type="text" name="java"  maxlength="5">
			</td>
            <td>
                SQL :
                <input type="text" name="SQL"  maxlength="5">
			</td>
		</tr>
			<th colspan="2">
                <input type="button" class="cal_btn" value="계산하기" > 
            </th>
		</tr>

		<tr >
			<td>
                총점 :
                <input type="text" name="tot" size="20" maxlength="5">
			</td>
            <td>
                평균 :
                <input type="text" name="avg" size="20" maxlength="3">
			</td>
		</tr>
	</table>


</body>
</html>

